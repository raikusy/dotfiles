if status --is-interactive
    # Commands to run in interactive sessions can go here
end
# Universal
set --universal --export ME (whoami)
set --universal --export HOME /Users/$ME

# Project
set --global --export WORK $HOME/workspace
set --global --export EDITOR cursor


# Start Homebrew
set --global --export HOMEBREW_PREFIX /opt/homebrew
set --global --export HOMEBREW_CELLAR /opt/homebrew/Cellar
set --global --export HOMEBREW_REPOSITORY /opt/homebrew
fish_add_path --global --move --path /opt/homebrew/bin /opt/homebrew/sbin
if test -n "$MANPATH[1]"
    set --global --export MANPATH '' $MANPATH
end
if not contains /opt/homebrew/share/info $INFOPATH
    set --global --export INFOPATH /opt/homebrew/share/info $INFOPATH
end
eval "$(/opt/homebrew/bin/brew shellenv)"
# End Homebrew

# Gems
set --global --export GEM_HOME "$HOME/.gem"
# End Gems

# Deno
set --global --export DENO_INSTALL "$HOME/.deno"
fish_add_path $DENO_INSTALL/env
fish_add_path $DENO_INSTALL/bin
# End Deno

# Node
set --global --export NODE_OPTIONS "--max-old-space-size=8192 "
# End Node

# Bun
set --global --export BUN_INSTALL "$HOME/.bun"
# End Bun

# Volta
set --global --export VOLTA_HOME "$HOME/.volta"
# End Volta

set --global --export NIX_SW /run/current-system/sw

# Paths
fish_add_path $NIX_SW/bin
fish_add_path $HOME/.nix-profile/bin
fish_add_path /etc/profiles/per-user/$ME/bin
fish_add_path $HOME/.local/bin
fish_add_path $HOME/.
# End Paths

zoxide init fish | source
direnv hook fish | source
starship init fish | source

# Bun aliases
abbr -a -- b bun
abbr -a -- ba 'bun add'
abbr -a -- bag 'bun add --global'
abbr -a -- bi 'bun i'
abbr -a -- bif 'bun i --force'
abbr -a -- brm 'bun remove'
abbr -a -- brmg 'bun remove -g'
abbr -a -- br 'bun run' 
abbr -a -- brb 'bun run build'
abbr -a -- brd 'bun run dev'
abbr -a -- btt 'bun test'
abbr -a -- blt 'bun lint'
abbr -a -- bx bunx
abbr -a -- bp 'bun pm'
abbr -a -- bpls 'bun pm ls'
abbr -a -- bplsg 'bun pm ls --global'
    

# Pnpm aliases
abbr -a -- p pnpm
abbr -a -- pi 'pnpm i'
abbr -a -- pif 'pnpm i --force'
abbr -a -- pun 'pnpm uninstall'
abbr -a -- pung 'pnpm uninstall -g'
abbr -a -- pa 'pnpm add'
abbr -a -- pag 'pnpm add --global'
abbr -a -- pad 'pnpm add -D'
abbr -a -- pr 'pnpm run'
abbr -a -- plt 'pnpm lint'
abbr -a -- ptt 'pnpm test'
abbr -a -- prd 'pnpm run dev'
abbr -a -- prb 'pnpm run build'
abbr -a -- prs 'pnpm run start'
abbr -a -- px pnpx

# Common
abbr -a -- :c clear
abbr -a -- mi micro
abbr -a -- nx nix
abbr -a -- mifc 'micro ~/.config/fish/config.fish'
abbr -a -- mizc 'micro ~/.zshrc'
abbr -a -- srcf 'source ~/.config/fish/config.fish'
abbr -a -- srcz 'source ~/.zshrc'
abbr -a -- :q exit
